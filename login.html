<?php
    session_start();
?>

<!DOCTYPE html>
<html lang = "en">

<head>
    <meta charset = "UTF-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
    <title>Rosario's Mechanics - Login</title>
    <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel = "stylesheet"> <!-- Bootstap -->
    <!-- Custom CSS -->
    <link rel = "stylesheet" href = "css\style.css"> <!-- custom Css link -->
</head>

<!-- Navigation Bar -->
<nav class = "navbar navbar-expand-lg navbar-dark bg-dark">
    <div class = "container-fluid">
        <a class = "navbar-brand" href = "index.html">Rosario's Mechanics</a>
        <button class = "navbar-toggler" type = "button" data-bs-toggle = "collapse" data-bs-target="#navbarNav">
            <span class = "navbar-toggler-icon"></span>
        </button>

        <div class = "collapse navbar-collapse" id = "navbarNav">
            <ul class = "navbar-nav">
                <li class = "nav-item"><a class = "nav-link" href = "index.html">Home</a></li>
                <li class = "nav-item"><a class = "nav-link" href = "about.html">About</a></li>
                <li class = "nav-item"><a class = "nav-link" href = "services.html">Services</a></li>
                <li class = "nav-item"><a class = "nav-link" href = "contact.html">Contact</a></li>
                <li class = "nav-item"><a class = "nav-link" href = "login.html">Login</a></li>
            </ul>
            <div class = "ms-auto d-flex align-items-right">
                <?php if (isset($_SESSION['username'])): ?>
                    <!-- Displaying logged-in status -->
                    <span class = "navbar-text text-white me-3">
                        Logged in as: <strong><?php echo htmlspecialchars($_SESSION['username']); ?></strong>
                    </span>
                    <!-- Logout button in navbar -->
                    <li class = "nav-item">
                        <a class = "nav-link" href = "logout.php">Logout</a>
                    </li>
                <?php else: ?>
                    <!-- Login button if not logged in -->
                    <a href = "login.html" class = "btn btn-outline-light">Login</a>
                <?php endif; ?>
            </div>
        </div>
    </div>
</nav>

<body>
    <div class = "container mt-5">
        <h2 class = "text-center">Login</h2>
        <form method = "POST" action = "php/login.php" class = "mx-auto" style = "max-width: 400px;">
            <div class = "mb-3">
                <label for = "username" class = "form-label">Username:</label>
                <input type = "text" class = "form-control" id = "username" name = "username" required>
            </div>
            <div class = "mb-3">
                <label for = "password" class = "form-label">Password:</label>
                <input type = "password" class = "form-control" id = "password" name = "password" required>
            </div>
            <button type = "submit" class="btn btn-primary w-100">Login</button>
        </form>
    </div>
</body>